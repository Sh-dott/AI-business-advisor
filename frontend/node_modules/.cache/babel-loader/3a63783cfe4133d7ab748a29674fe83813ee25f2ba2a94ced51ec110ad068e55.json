{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import TimelinePoint from'./timeline/TimelinePoint';import TimelineCard from'./timeline/TimelineCard';import TimelineControls from'./timeline/TimelineControls';import'../styles/timeline.css';/**\n * RecommendationTimeline\n * Displays recommendations in an interactive horizontal timeline\n * with expandable cards and intelligent scrolling\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendationTimeline=_ref=>{let{recommendations=[]}=_ref;const[activeIndex,setActiveIndex]=useState(0);const[expandedIndices,setExpandedIndices]=useState(new Set([0]));const timelineWrapperRef=useRef(null);const timelineTrackRef=useRef(null);// Scroll to active card on index change\nuseEffect(()=>{if(timelineWrapperRef.current&&timelineTrackRef.current){const activeCard=timelineTrackRef.current.children[activeIndex];if(activeCard){// Scroll to center the active card\nconst scrollLeft=activeCard.offsetLeft-timelineWrapperRef.current.clientWidth/2+activeCard.clientWidth/2;timelineWrapperRef.current.scrollTo({left:scrollLeft,behavior:'smooth'});}}},[activeIndex]);const handlePointClick=index=>{setActiveIndex(index);};const handleCardToggle=index=>{setExpandedIndices(prev=>{const newSet=new Set(prev);if(newSet.has(index)){newSet.delete(index);}else{newSet.add(index);}return newSet;});};const handlePrevious=()=>{if(activeIndex>0){setActiveIndex(activeIndex-1);}};const handleNext=()=>{if(activeIndex<recommendations.length-1){setActiveIndex(activeIndex+1);}};if(recommendations.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"timeline-container\",children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px 20px'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--color-text-secondary)'},children:\"No recommendations available\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-wrapper\",ref:timelineWrapperRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"timeline-track\",ref:timelineTrackRef,children:recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(TimelinePoint,{index:index,recommendation:rec,isActive:activeIndex===index,onClick:()=>handlePointClick(index)}),/*#__PURE__*/_jsx(TimelineCard,{index:index,recommendation:rec,isActive:activeIndex===index,isExpanded:expandedIndices.has(index),onToggle:()=>handleCardToggle(index)})]},index))})}),/*#__PURE__*/_jsx(TimelineControls,{currentIndex:activeIndex,totalItems:recommendations.length,onPrevious:handlePrevious,onNext:handleNext})]});};export default RecommendationTimeline;","map":{"version":3,"names":["React","useState","useRef","useEffect","TimelinePoint","TimelineCard","TimelineControls","jsx","_jsx","jsxs","_jsxs","RecommendationTimeline","_ref","recommendations","activeIndex","setActiveIndex","expandedIndices","setExpandedIndices","Set","timelineWrapperRef","timelineTrackRef","current","activeCard","children","scrollLeft","offsetLeft","clientWidth","scrollTo","left","behavior","handlePointClick","index","handleCardToggle","prev","newSet","has","delete","add","handlePrevious","handleNext","length","className","style","textAlign","padding","color","ref","map","rec","Fragment","recommendation","isActive","onClick","isExpanded","onToggle","currentIndex","totalItems","onPrevious","onNext"],"sources":["C:/Users/Shai/web-projects/The AI business advisor/frontend/src/components/RecommendationTimeline.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport TimelinePoint from './timeline/TimelinePoint';\nimport TimelineCard from './timeline/TimelineCard';\nimport TimelineControls from './timeline/TimelineControls';\nimport '../styles/timeline.css';\n\n/**\n * RecommendationTimeline\n * Displays recommendations in an interactive horizontal timeline\n * with expandable cards and intelligent scrolling\n */\nconst RecommendationTimeline = ({ recommendations = [] }) => {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [expandedIndices, setExpandedIndices] = useState(new Set([0]));\n  const timelineWrapperRef = useRef(null);\n  const timelineTrackRef = useRef(null);\n\n  // Scroll to active card on index change\n  useEffect(() => {\n    if (timelineWrapperRef.current && timelineTrackRef.current) {\n      const activeCard = timelineTrackRef.current.children[activeIndex];\n      if (activeCard) {\n        // Scroll to center the active card\n        const scrollLeft =\n          activeCard.offsetLeft -\n          timelineWrapperRef.current.clientWidth / 2 +\n          activeCard.clientWidth / 2;\n\n        timelineWrapperRef.current.scrollTo({\n          left: scrollLeft,\n          behavior: 'smooth'\n        });\n      }\n    }\n  }, [activeIndex]);\n\n  const handlePointClick = (index) => {\n    setActiveIndex(index);\n  };\n\n  const handleCardToggle = (index) => {\n    setExpandedIndices((prev) => {\n      const newSet = new Set(prev);\n      if (newSet.has(index)) {\n        newSet.delete(index);\n      } else {\n        newSet.add(index);\n      }\n      return newSet;\n    });\n  };\n\n  const handlePrevious = () => {\n    if (activeIndex > 0) {\n      setActiveIndex(activeIndex - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (activeIndex < recommendations.length - 1) {\n      setActiveIndex(activeIndex + 1);\n    }\n  };\n\n  if (recommendations.length === 0) {\n    return (\n      <div className=\"timeline-container\">\n        <div style={{ textAlign: 'center', padding: '40px 20px' }}>\n          <p style={{ color: 'var(--color-text-secondary)' }}>\n            No recommendations available\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"timeline-container\">\n      <div className=\"timeline-wrapper\" ref={timelineWrapperRef}>\n        <div className=\"timeline-track\" ref={timelineTrackRef}>\n          {recommendations.map((rec, index) => (\n            <React.Fragment key={index}>\n              <TimelinePoint\n                index={index}\n                recommendation={rec}\n                isActive={activeIndex === index}\n                onClick={() => handlePointClick(index)}\n              />\n              <TimelineCard\n                index={index}\n                recommendation={rec}\n                isActive={activeIndex === index}\n                isExpanded={expandedIndices.has(index)}\n                onToggle={() => handleCardToggle(index)}\n              />\n            </React.Fragment>\n          ))}\n        </div>\n      </div>\n\n      <TimelineControls\n        currentIndex={activeIndex}\n        totalItems={recommendations.length}\n        onPrevious={handlePrevious}\n        onNext={handleNext}\n      />\n    </div>\n  );\n};\n\nexport default RecommendationTimeline;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}