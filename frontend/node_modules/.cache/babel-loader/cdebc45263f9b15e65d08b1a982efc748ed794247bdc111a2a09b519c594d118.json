{"ast":null,"code":"import{useContext}from'react';import{LanguageContext}from'../context/LanguageContext';export const useLanguage=()=>{const context=useContext(LanguageContext);if(!context){throw new Error('useLanguage must be used within LanguageProvider');}const{language,setLanguage,translations}=context;// Translation function with support for interpolation\nconst t=function(key){let variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const keys=key.split('.');let value=translations[language];// Navigate through nested keys\nfor(const k of keys){if(value&&typeof value==='object'&&k in value){value=value[k];}else{// Return the key itself if translation not found (fallback)\nreturn\"[\".concat(key,\"]\");}}// Handle interpolation for variables like {current}, {total}, {price}\nif(typeof value==='string'&&variables){Object.keys(variables).forEach(varKey=>{const regex=new RegExp(\"\\\\{\".concat(varKey,\"\\\\}\"),'g');value=value.replace(regex,variables[varKey]);});}return value||\"[\".concat(key,\"]\");};// Get text direction based on language\nconst getDirection=()=>{return language==='he'?'rtl':'ltr';};// Get lang attribute for HTML\nconst getLang=()=>{return language==='en'?'en':language==='he'?'he':'ru';};return{language,setLanguage,t,getDirection,getLang,dir:getDirection(),lang:getLang()};};","map":{"version":3,"names":["useContext","LanguageContext","useLanguage","context","Error","language","setLanguage","translations","t","key","variables","arguments","length","undefined","keys","split","value","k","concat","Object","forEach","varKey","regex","RegExp","replace","getDirection","getLang","dir","lang"],"sources":["C:/Users/Shai/web-projects/The AI business advisor/frontend/src/hooks/useLanguage.js"],"sourcesContent":["import { useContext } from 'react';\nimport { LanguageContext } from '../context/LanguageContext';\n\nexport const useLanguage = () => {\n  const context = useContext(LanguageContext);\n\n  if (!context) {\n    throw new Error('useLanguage must be used within LanguageProvider');\n  }\n\n  const { language, setLanguage, translations } = context;\n\n  // Translation function with support for interpolation\n  const t = (key, variables = {}) => {\n    const keys = key.split('.');\n    let value = translations[language];\n\n    // Navigate through nested keys\n    for (const k of keys) {\n      if (value && typeof value === 'object' && k in value) {\n        value = value[k];\n      } else {\n        // Return the key itself if translation not found (fallback)\n        return `[${key}]`;\n      }\n    }\n\n    // Handle interpolation for variables like {current}, {total}, {price}\n    if (typeof value === 'string' && variables) {\n      Object.keys(variables).forEach((varKey) => {\n        const regex = new RegExp(`\\\\{${varKey}\\\\}`, 'g');\n        value = value.replace(regex, variables[varKey]);\n      });\n    }\n\n    return value || `[${key}]`;\n  };\n\n  // Get text direction based on language\n  const getDirection = () => {\n    return language === 'he' ? 'rtl' : 'ltr';\n  };\n\n  // Get lang attribute for HTML\n  const getLang = () => {\n    return language === 'en' ? 'en' : language === 'he' ? 'he' : 'ru';\n  };\n\n  return {\n    language,\n    setLanguage,\n    t,\n    getDirection,\n    getLang,\n    dir: getDirection(),\n    lang: getLang()\n  };\n};\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OAASC,eAAe,KAAQ,4BAA4B,CAE5D,MAAO,MAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,OAAO,CAAGH,UAAU,CAACC,eAAe,CAAC,CAE3C,GAAI,CAACE,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAC,kDAAkD,CAAC,CACrE,CAEA,KAAM,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,YAAa,CAAC,CAAGJ,OAAO,CAEvD;AACA,KAAM,CAAAK,CAAC,CAAG,QAAAA,CAACC,GAAG,CAAqB,IAAnB,CAAAC,SAAS,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC5B,KAAM,CAAAG,IAAI,CAAGL,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAC3B,GAAI,CAAAC,KAAK,CAAGT,YAAY,CAACF,QAAQ,CAAC,CAElC;AACA,IAAK,KAAM,CAAAY,CAAC,GAAI,CAAAH,IAAI,CAAE,CACpB,GAAIE,KAAK,EAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIC,CAAC,GAAI,CAAAD,KAAK,CAAE,CACpDA,KAAK,CAAGA,KAAK,CAACC,CAAC,CAAC,CAClB,CAAC,IAAM,CACL;AACA,UAAAC,MAAA,CAAWT,GAAG,MAChB,CACF,CAEA;AACA,GAAI,MAAO,CAAAO,KAAK,GAAK,QAAQ,EAAIN,SAAS,CAAE,CAC1CS,MAAM,CAACL,IAAI,CAACJ,SAAS,CAAC,CAACU,OAAO,CAAEC,MAAM,EAAK,CACzC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,MAAM,OAAAL,MAAA,CAAOG,MAAM,QAAO,GAAG,CAAC,CAChDL,KAAK,CAAGA,KAAK,CAACQ,OAAO,CAACF,KAAK,CAAEZ,SAAS,CAACW,MAAM,CAAC,CAAC,CACjD,CAAC,CAAC,CACJ,CAEA,MAAO,CAAAL,KAAK,MAAAE,MAAA,CAAQT,GAAG,KAAG,CAC5B,CAAC,CAED;AACA,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GAAM,CACzB,MAAO,CAAApB,QAAQ,GAAK,IAAI,CAAG,KAAK,CAAG,KAAK,CAC1C,CAAC,CAED;AACA,KAAM,CAAAqB,OAAO,CAAGA,CAAA,GAAM,CACpB,MAAO,CAAArB,QAAQ,GAAK,IAAI,CAAG,IAAI,CAAGA,QAAQ,GAAK,IAAI,CAAG,IAAI,CAAG,IAAI,CACnE,CAAC,CAED,MAAO,CACLA,QAAQ,CACRC,WAAW,CACXE,CAAC,CACDiB,YAAY,CACZC,OAAO,CACPC,GAAG,CAAEF,YAAY,CAAC,CAAC,CACnBG,IAAI,CAAEF,OAAO,CAAC,CAChB,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}